<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Apparel Machinery | Industrial Equipment</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background-color: #f5f5f5;
      color: #333;
      line-height: 1.6;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* Header styles */
    header {
      background-color: #2c3e50;
      color: white;
      padding: 1rem 0;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo {
      font-size: 1.8rem;
      font-weight: bold;
    }
    
    .logo span {
      color: #3498db;
    }
    
    nav ul {
      display: flex;
      list-style: none;
    }
    
    nav ul li {
      margin-right: 1.5rem;
    }
    
    nav ul li a {
      color: white;
      text-decoration: none;
      transition: color 0.3s;
    }
    
    nav ul li a:hover {
      color: #3498db;
    }
    
    /* Banner styles */
    .banner {
      background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1497366754035-f200968a6e72?ixlib=rb-4.0.3&auto=format&fit=crop&w=1500&q=80') no-repeat center center/cover;
      color: white;
      padding: 4rem 0;
      text-align: center;
    }
    
    .banner h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }
    
    .banner p {
      font-size: 1.2rem;
      max-width: 800px;
      margin: 0 auto;
    }
    
    /* Products section */
    .products-section {
      padding: 3rem 0;
    }
    
    .section-title {
      text-align: center;
      margin-bottom: 2rem;
      font-size: 2rem;
      color: #2c3e50;
    }
    
    .filters {
      display: flex;
      justify-content: center;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 10px;
    }
    
    .filter-btn {
      background: #ecf0f1;
      border: none;
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .filter-btn.active, .filter-btn:hover {
      background: #3498db;
      color: white;
    }
    
    .search-box {
      display: flex;
      justify-content: center;
      margin-bottom: 2rem;
    }
    
    .search-input {
      padding: 10px 15px;
      width: 300px;
      border: 1px solid #ddd;
      border-radius: 4px 0 0 4px;
    }
    
    .search-btn {
      background: #3498db;
      color: white;
      border: none;
      padding: 0 15px;
      border-radius: 0 4px 4px 0;
      cursor: pointer;
    }
    
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 2rem;
    }
    
    .product-card {
      background: white;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }
    
    .product-card:hover {
      transform: translateY(-5px);
    }
    
    .product-image {
      height: 200px;
      overflow: hidden;
    }
    
    .product-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s;
    }
    
    .product-card:hover .product-image img {
      transform: scale(1.05);
    }
    
    .product-details {
      padding: 1.5rem;
    }
    
    .product-title {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
      color: #2c3e50;
    }
    
    .product-price {
      font-weight: bold;
      color: #e74c3c;
      margin-bottom: 0.5rem;
    }
    
    .product-description {
      color: #7f8c8d;
      margin-bottom: 1rem;
      max-height: 100px;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .add-to-cart-btn {
      background: #3498db;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 4px;
      width: 100%;
      cursor: pointer;
      transition: background 0.3s;
    }
    
    .add-to-cart-btn:hover {
      background: #2980b9;
    }
    
    /* Footer */
    footer {
      background: #2c3e50;
      color: white;
      padding: 2rem 0;
      text-align: center;
    }
    
    .footer-content {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .social-icons {
      margin: 1rem 0;
    }
    
    .social-icons a {
      color: white;
      margin: 0 10px;
      font-size: 1.5rem;
    }
    
    /* Notifications */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 20px;
      border-radius: 4px;
      color: white;
      z-index: 1000;
      opacity: 0;
      transform: translateY(-20px);
      transition: opacity 0.3s, transform 0.3s;
    }
    
    .notification.success {
      background: #2ecc71;
      opacity: 1;
      transform: translateY(0);
    }
    
    .notification.error {
      background: #e74c3c;
      opacity: 1;
      transform: translateY(0);
    }
    
    /* Admin Controls */
    .admin-controls {
      display: none;
      justify-content: center;
      margin: 2rem 0;
      gap: 10px;
      flex-wrap: wrap;
    }
    
    .admin-btn {
      background: #e74c3c;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 4px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }
    
    /* Modal styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    
    .modal-content {
      background: white;
      padding: 2rem;
      border-radius: 8px;
      width: 90%;
      max-width: 600px;
      max-height: 90vh;
      overflow-y: auto;
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }
    
    .close-modal {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
    }
    
    .form-group {
      margin-bottom: 1rem;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }
    
    .form-control {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    
    textarea.form-control {
      min-height: 100px;
      resize: vertical;
    }
    
    .submit-btn {
      background: #3498db;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 4px;
      width: 100%;
      cursor: pointer;
      margin-top: 1rem;
    }
    
    /* Cart styles */
    .cart-icon {
      position: relative;
    }
    
    .cart-count {
      position: absolute;
      top: -10px;
      right: -10px;
      background: #e74c3c;
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 0.8rem;
    }
    
    /* Order form styles */
    .order-form-container {
      background: white;
      padding: 2rem;
      border-radius: 8px;
      margin: 2rem auto;
      max-width: 600px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    .order-form-title {
      text-align: center;
      margin-bottom: 1.5rem;
      color: #2c3e50;
    }
    
    /* Product condition styles */
    .product-condition {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8rem;
      margin-bottom: 1rem;
    }
    
    .condition-new {
      background: #2ecc71;
      color: white;
    }
    
    .condition-used {
      background: #f39c12;
      color: white;
    }
    
    .condition-refurbished {
      background: #3498db;
      color: white;
    }
    
    /* Admin product list styles */
    .admin-product-list {
      background: white;
      border-radius: 8px;
      padding: 1.5rem;
      margin: 2rem 0;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    .admin-product-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      border-bottom: 1px solid #eee;
    }
    
    .admin-product-item:last-child {
      border-bottom: none;
    }
    
    .admin-product-actions {
      display: flex;
      gap: 10px;
    }
    
    .edit-btn {
      background: #3498db;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 4px;
      cursor: pointer;
    }
    
    .delete-btn {
      background: #e74c3c;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 4px;
      cursor: pointer;
    }
    
    /* Place Order Button */
    .place-order-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #2ecc71;
      color: white;
      border: none;
      padding: 15px 25px;
      border-radius: 50px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      display: none;
      z-index: 999;
    }
    
    /* Image upload preview */
    .image-preview {
      width: 100%;
      height: 200px;
      border: 1px dashed #ddd;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    
    .image-preview img {
      max-width: 100%;
      max-height: 100%;
    }
    
    .image-preview-text {
      color: #7f8c8d;
    }
    
    /* Word count indicator */
    .word-count {
      text-align: right;
      font-size: 0.8rem;
      color: #7f8c8d;
      margin-top: 0.25rem;
    }
    
    /* Admin only elements */
    .admin-only {
      display: none;
    }
    
    /* Responsive styles */
    @media (max-width: 768px) {
      .header-content {
        flex-direction: column;
        text-align: center;
      }
      
      nav ul {
        margin-top: 1rem;
        justify-content: center;
      }
      
      .products-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      }
      
      .admin-controls {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container">
      <div class="header-content">
        <div class="logo">Apparel <span>Machinery</span></div>
        <nav>
          <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#products">Products</a></li>
            <li><a href="#about">About Us</a></li>
            <li><a href="#contact">Contact</a></li>
            <li>
              <a href="#" class="cart-icon">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-count">0</span>
              </a>
            </li>
            <li id="userInfo" style="display: none;">
              <span id="userName"></span>
            </li>
            <li>
              <button id="signInBtn" class="admin-btn"><i class="fas fa-sign-in-alt"></i> Sign In</button>
              <button id="signOutBtn" class="admin-btn" style="display: none;"><i class="fas fa-sign-out-alt"></i> Sign Out</button>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <!-- Banner -->
  <section class="banner" id="home">
    <div class="container">
      <h1 id="bannerTitle">Premium Industrial Machinery</h1>
      <p id="bannerDescription">Find the best apparel machinery for your business with our extensive collection of industrial machinery.</p>
    </div>
  </section>

  <!-- Admin Controls -->
  <div class="container">
    <div id="adminControls" class="admin-controls">
      <button id="addProductBtn" class="admin-btn"><i class="fas fa-plus"></i> Add New Product</button>
      <button id="editBannerBtn" class="admin-btn"><i class="fas fa-edit"></i> Edit Banner</button>
      <button id="viewProductsBtn" class="admin-btn"><i class="fas fa-list"></i> View Products</button>
      <button id="manageCategoriesBtn" class="admin-btn"><i class="fas fa-tags"></i> Manage Categories</button>
    </div>
  </div>

  <!-- Products Section -->
  <section class="products-section" id="products">
    <div class="container">
      <h2 class="section-title">Our Products</h2>
      
      <div class="filters">
        <button class="filter-btn active" data-category="all">All</button>
        <button class="filter-btn" data-category="sewing">Sewing Machines</button>
        <button class="filter-btn" data-category="cutting">Cutting Machines</button>
        <button class="filter-btn" data-category="pressing">Pressing Equipment</button>
        <button class="filter-btn" data-category="embroidery">Embroidery Machines</button>
        <button class="filter-btn" data-category="washing">Washing Machines</button>
        <button class="filter-btn" data-category="boiler">Boiler Machines</button>
        <button class="filter-btn" data-category="generator">Generators</button>
        <button class="filter-btn" data-category="compressor">Compressors</button>
        <button class="filter-btn" data-category="accessories">Accessories</button>
        <button class="filter-btn" data-category="management">Management Equipment</button>
      </div>
      
      <div class="search-box">
        <input type="text" id="searchInput" class="search-input" placeholder="Search products...">
        <button id="searchBtn" class="search-btn"><i class="fas fa-search"></i></button>
      </div>
      
      <div id="productsGrid" class="products-grid">
        <!-- Products will be loaded here dynamically -->
      </div>
    </div>
  </section>

  <!-- Order Form Section -->
  <section class="order-section" id="orderSection" style="display: none;">
    <div class="container">
      <div class="order-form-container">
        <h2 class="order-form-title">Place Your Order</h2>
        <form id="orderForm">
          <div class="form-group">
            <label for="customerName">Your Name</label>
            <input type="text" id="customerName" class="form-control" required>
          </div>
          <div class="form-group">
            <label for="customerEmail">Email</label>
            <input type="email" id="customerEmail" class="form-control" required>
          </div>
          <div class="form-group">
            <label for="customerPhone">Phone Number</label>
            <input type="tel" id="customerPhone" class="form-control" required>
          </div>
          <div class="form-group">
            <label for="productInterest">Product of Interest</label>
            <select id="productInterest" class="form-control" required>
              <option value="">Select a product</option>
            </select>
          </div>
          <div class="form-group">
            <label for="orderMessage">Additional Message</label>
            <textarea id="orderMessage" class="form-control" rows="4"></textarea>
          </div>
          <button type="submit" class="submit-btn">Send Order via WhatsApp</button>
        </form>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer id="contact">
    <div class="container">
      <div class="footer-content">
        <h3>Apparel Machinery</h3>
        <p>Your Trusted Partner for Industrial Equipment</p>
        <div class="social-icons">
          <a href="https://web.facebook.com/Aligo786/" target="_blank"><i class="fab fa-facebook"></i></a>
          <a href="https://x.com/m_yameen_ansai1?s=21" target="_blank"><i class="fab fa-twitter"></i></a>
          <a href="https://www.instagram.com/m.yameenansari?igsh=eDRsdjFhMHJwYjd3&utm_source=qr" target="_blank"><i class="fab fa-instagram"></i></a>
          <a href="https://bit.ly/m/myameenansari" target="_blank"><i class="fab fa-linkedin"></i></a>
          <a href="https://wa.me/923155111330" target="_blank"><i class="fab fa-whatsapp"></i></a>
        </div>
        <p>Contact: <a href="mailto:apparel.machinery.pk@gmail.com" style="color: white;">apparel.machinery.pk@gmail.com</a> | Phone: <a href="https://wa.me/923155111330" style="color: white;">+92 315 5111330</a></p>
        <p>Muhammad Yameen Ansari</p>
      </div>
    </div>
  </footer>

  <!-- Add Product Modal -->
  <div id="addProductModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Add New Product</h3>
        <button class="close-modal">&times;</button>
      </div>
      <form id="addProductForm">
        <div class="form-group">
          <label for="productTitle">Product Name *</label>
          <input type="text" id="productTitle" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="productCode">Product Code *</label>
          <input type="text" id="productCode" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="productManufacturer">Manufacturer *</label>
          <input type="text" id="productManufacturer" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="productCategory">Category *</label>
          <select id="productCategory" class="form-control" required>
            <option value="sewing">Sewing Machines</option>
            <option value="cutting">Cutting Machines</option>
            <option value="pressing">Pressing Equipment</option>
            <option value="embroidery">Embroidery Machines</option>
            <option value="washing">Washing Machines</option>
            <option value="boiler">Boiler Machines</option>
            <option value="generator">Generators</option>
            <option value="compressor">Compressors</option>
            <option value="accessories">Accessories</option>
            <option value="management">Management Equipment</option>
          </select>
        </div>
        <div class="form-group">
          <label for="productCondition">Condition *</label>
          <select id="productCondition" class="form-control" required>
            <option value="New">New</option>
            <option value="Used">Used</option>
            <option value="Refurbished">Refurbished</option>
          </select>
        </div>
        <div class="form-group">
          <label for="productDescription">Description (up to 500 words) *</label>
          <textarea id="productDescription" class="form-control" rows="5" required maxlength="2500"></textarea>
          <div class="word-count" id="descriptionWordCount">0/500 words</div>
        </div>
        <div class="form-group">
          <label for="productPrice">Price (PKR) *</label>
          <input type="number" id="productPrice" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="productImageUrl">Image URL</label>
          <input type="text" id="productImageUrl" class="form-control" placeholder="https://example.com/image.jpg">
        </div>
        <div class="form-group">
          <label for="productImage">Or Upload Image *</label>
          <input type="file" id="productImage" class="form-control" accept="image/*">
          <div class="image-preview" id="imagePreview">
            <div class="image-preview-text">Image preview will appear here</div>
          </div>
        </div>
        <div id="addProductError" style="color: red; margin-bottom: 1rem;"></div>
        <button type="submit" class="submit-btn">Add Product</button>
      </form>
    </div>
  </div>

  <!-- Edit Product Modal -->
  <div id="editProductModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Edit Product</h3>
        <button class="close-modal">&times;</button>
      </div>
      <form id="editProductForm">
        <input type="hidden" id="editProductId">
        <div class="form-group">
          <label for="editProductTitle">Product Name *</label>
          <input type="text" id="editProductTitle" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="editProductCode">Product Code *</label>
          <input type="text" id="editProductCode" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="editProductManufacturer">Manufacturer *</label>
          <input type="text" id="editProductManufacturer" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="editProductCategory">Category *</label>
          <select id="editProductCategory" class="form-control" required>
            <option value="sewing">Sewing Machines</option>
            <option value="cutting">Cutting Machines</option>
            <option value="pressing">Pressing Equipment</option>
            <option value="embroidery">Embroidery Machines</option>
            <option value="washing">Washing Machines</option>
            <option value="boiler">Boiler Machines</option>
            <option value="generator">Generators</option>
            <option value="compressor">Compressors</option>
            <option value="accessories">Accessories</option>
            <option value="management">Management Equipment</option>
          </select>
        </div>
        <div class="form-group">
          <label for="editProductCondition">Condition *</label>
          <select id="editProductCondition" class="form-control" required>
            <option value="New">New</option>
            <option value="Used">Used</option>
            <option value="Refurbished">Refurbished</option>
          </select>
        </div>
        <div class="form-group">
          <label for="editProductDescription">Description (up to 500 words) *</label>
          <textarea id="editProductDescription" class="form-control" rows="5" required maxlength="2500"></textarea>
          <div class="word-count" id="editDescriptionWordCount">0/500 words</div>
        </div>
        <div class="form-group">
          <label for="editProductPrice">Price (PKR) *</label>
          <input type="number" id="editProductPrice" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="editProductImageUrl">Image URL</label>
          <input type="text" id="editProductImageUrl" class="form-control" placeholder="https://example.com/image.jpg">
        </div>
        <div class="form-group">
          <label for="editProductImage">Or Upload Image</label>
          <input type="file" id="editProductImage" class="form-control" accept="image/*">
          <div class="image-preview" id="editImagePreview">
            <div class="image-preview-text">Image preview will appear here</div>
          </div>
        </div>
        <div id="editProductError" style="color: red; margin-bottom: 1rem;"></div>
        <button type="submit" class="submit-btn">Save Changes</button>
      </form>
    </div>
  </div>

  <!-- Edit Banner Modal -->
  <div id="editBannerModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Edit Banner</h3>
        <button class="close-modal">&times;</button>
      </div>
      <form id="editBannerForm">
        <div class="form-group">
          <label for="bannerTitleInput">Banner Title</label>
          <input type="text" id="bannerTitleInput" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="bannerDescriptionInput">Banner Description</label>
          <textarea id="bannerDescriptionInput" class="form-control" rows="3" required></textarea>
        </div>
        <div class="form-group">
          <label for="bannerImageUrl">Banner Image URL</label>
          <input type="text" id="bannerImageUrl" class="form-control" placeholder="https://example.com/image.jpg">
        </div>
        <div class="form-group">
          <label for="bannerImageUpload">Or Upload Banner Image</label>
          <input type="file" id="bannerImageUpload" class="form-control" accept="image/*">
          <div class="image-preview" id="bannerImagePreview">
            <div class="image-preview-text">Banner image preview will appear here</div>
          </div>
        </div>
        <button type="submit" class="submit-btn">Update Banner</button>
      </form>
    </div>
  </div>

  <!-- Manage Products Modal -->
  <div id="manageProductsModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Manage Products</h3>
        <button class="close-modal">&times;</button>
      </div>
      <div class="admin-product-list">
        <div id="adminProductsList">
          <!-- Admin products will be loaded here -->
        </div>
      </div>
    </div>
  </div>

  <!-- Manage Categories Modal -->
  <div id="manageCategoriesModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Manage Categories</h3>
        <button class="close-modal">&times;</button>
      </div>
      <div class="category-management">
        <form id="addCategoryForm">
          <div class="form-group">
            <label for="newCategoryName">Category Name</label>
            <input type="text" id="newCategoryName" class="form-control" required>
          </div>
          <div class="form-group">
            <label for="newCategoryValue">Category Value (English, without spaces)</label>
            <input type="text" id="newCategoryValue" class="form-control" required>
          </div>
          <button type="submit" class="submit-btn">Add Category</button>
        </form>
        
        <div class="category-list">
          <h4>Existing Categories</h4>
          <div id="categoriesList">
            <!-- Categories will be loaded here -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Sign In Modal -->
  <div id="signInModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Sign In</h3>
        <button class="close-modal">&times;</button>
      </div>
      <form id="signInForm">
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" id="password" class="form-control" required>
        </div>
        <div id="signInError" style="color: red; margin-bottom: 1rem;"></div>
        <button type="submit" class="submit-btn">Sign In</button>
      </form>
      <p style="margin-top: 1rem; text-align: center;">
        Don't have an account? <a href="#" id="showSignUp">Sign Up</a>
      </p>
    </div>
  </div>

  <!-- Sign Up Modal -->
  <div id="signUpModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Sign Up</h3>
        <button class="close-modal">&times;</button>
      </div>
      <form id="signUpForm">
        <div class="form-group">
          <label for="signupName">Full Name</label>
          <input type="text" id="signupName" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="signupEmail">Email</label>
          <input type="email" id="signupEmail" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="signupPassword">Password (at least 6 characters)</label>
          <input type="password" id="signupPassword" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="signupConfirmPassword">Confirm Password</label>
          <input type="password" id="signupConfirmPassword" class="form-control" required>
        </div>
        <div id="signUpError" style="color: red; margin-bottom: 1rem;"></div>
        <button type="submit" class="submit-btn">Sign Up</button>
      </form>
      <p style="margin-top: 1rem; text-align: center;">
        Already have an account? <a href="#" id="showSignIn">Sign In</a>
      </p>
    </div>
  </div>

  <!-- Notification -->
  <div id="notification" class="notification"></div>

  <!-- Place Order Button -->
  <button id="placeOrderBtn" class="place-order-btn">
    <i class="fas fa-shopping-cart"></i> Place Your Order
  </button>

  <script>
    // Global variables
    let currentUser = null;
    let isAdmin = false;
    let cart = [];
    const adminEmails = ["apparel.machinery.pk@gmail.com"];
    const adminPassword = "admin123"; // Default admin password
    let products = [];
    let categories = [];
    let users = []; // Added users array

    // Initialize the application when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      // Load initial data
      loadInitialData();
      
      // Set up event listeners for buttons
      setupEventListeners();
      
      // Update cart UI
      updateCartUI();
      
      // Check if user is already logged in (from localStorage)
      checkAuthState();
      
      // Render products
      renderProducts();
    });

    function loadInitialData() {
      // Load users from localStorage or set default
      const savedUsers = localStorage.getItem('users');
      if (savedUsers) {
        users = JSON.parse(savedUsers);
      } else {
        // Add default admin user
        users = [
          {
            name: "Admin",
            email: "apparel.machinery.pk@gmail.com",
            password: "admin123"
          }
        ];
        localStorage.setItem('users', JSON.stringify(users));
      }
      
      // Load products from localStorage or set default
      const savedProducts = localStorage.getItem('products');
      if (savedProducts) {
        products = JSON.parse(savedProducts);
      } else {
        // Default products
        products = [
          {
            id: 1,
            code: 'AM-SM001',
            title: 'Industrial Sewing Machine',
            description: 'Heavy-duty sewing machine for industrial use with automatic threading.',
            manufacturer: 'Brother Industries',
            price: 85000,
            category: 'sewing',
            condition: 'New',
            image: 'https://images.unsplash.com/photo-1589254065878-42f9a7a5d26f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80'
          },
          {
            id: 2,
            code: 'AM-FC002',
            title: 'Fabric Cutting Machine',
            description: 'Precision fabric cutting machine with laser guidance system.',
            manufacturer: 'Eastman Machine Company',
            price: 120000,
            category: 'cutting',
            condition: 'Refurbished',
            image: 'https://images.unsplash.com/photo-1598703296251-fdc694f1d6bc?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80'
          },
          {
            id: 3,
            code: 'AM-PM003',
            title: 'Production Management Suite',
            description: 'Complete software solution for apparel production management.',
            manufacturer: 'Apparel Management Solutions',
            price: 45000,
            category: 'management',
            condition: 'New',
            image: 'https://images.unsplash.com/photo-1611019130372-e64d1cdc241e?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80'
          }
        ];
        localStorage.setItem('products', JSON.stringify(products));
      }
      
      // Load categories from localStorage or set default
      const savedCategories = localStorage.getItem('categories');
      if (savedCategories) {
        categories = JSON.parse(savedCategories);
      } else {
        // Default categories
        categories = [
          { name: 'Sewing Machines', value: 'sewing' },
          { name: 'Cutting Machines', value: 'cutting' },
          { name: 'Pressing Equipment', value: 'pressing' },
          { name: 'Embroidery Machines', value: 'embroidery' },
          { name: 'Washing Machines', value: 'washing' },
          { name: 'Boiler Machines', value: 'boiler' },
          { name: 'Generators', value: 'generator' },
          { name: 'Compressors', value: 'compressor' },
          { name: 'Accessories', value: 'accessories' },
          { name: 'Management Equipment', value: 'management' }
        ];
        localStorage.setItem('categories', JSON.stringify(categories));
      }
    }

    function setupEventListeners() {
      // Category filter buttons - FIXED: Added proper event delegation
      document.querySelector('.filters').addEventListener('click', function(e) {
        if (e.target.classList.contains('filter-btn')) {
          handleCategoryFilter(e);
        }
      });
      
      // Search functionality
      document.getElementById('searchBtn').addEventListener('click', handleSearch);
      document.getElementById('searchInput').addEventListener('keyup', function(e) {
        if (e.key === 'Enter') handleSearch();
      });
      
      // Modal close buttons
      document.querySelectorAll('.close-modal').forEach(btn => {
        btn.addEventListener('click', closeAllModals);
      });
      
      // Click outside modal to close
      document.querySelectorAll('.modal').forEach(modal => {
        modal.addEventListener('click', function(e) {
          if (e.target === this) closeAllModals();
        });
      });
      
      // Admin buttons
      document.getElementById('addProductBtn').addEventListener('click', openAddProductModal);
      document.getElementById('editBannerBtn').addEventListener('click', openEditBannerModal);
      document.getElementById('viewProductsBtn').addEventListener('click', openManageProductsModal);
      document.getElementById('manageCategoriesBtn').addEventListener('click', openManageCategoriesModal);
      
      // Form submissions
      document.getElementById('signInForm').addEventListener('submit', handleSignIn);
      document.getElementById('signUpForm').addEventListener('submit', handleSignUp);
      document.getElementById('orderForm').addEventListener('submit', handleOrderForm);
      document.getElementById('addProductForm').addEventListener('submit', handleAddProduct);
      document.getElementById('editProductForm').addEventListener('submit', handleEditProduct);
      document.getElementById('editBannerForm').addEventListener('submit', handleEditBanner);
      document.getElementById('addCategoryForm').addEventListener('submit', handleAddCategory);
      
      // Auth buttons
      document.getElementById('signInBtn').addEventListener('click', openSignInModal);
      document.getElementById('signOutBtn').addEventListener('click', handleSignOut);
      document.getElementById('showSignUp').addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById('signInModal').style.display = 'none';
        document.getElementById('signUpModal').style.display = 'flex';
      });
      document.getElementById('showSignIn').addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById('signUpModal').style.display = 'none';
        document.getElementById('signInModal').style.display = 'flex';
      });
      
      // Place Order button
      document.getElementById('placeOrderBtn').addEventListener('click', function() {
        document.getElementById('orderSection').style.display = 'block';
        window.location.href = '#orderSection';
      });
      
      // Image preview for product image upload
      document.getElementById('productImage').addEventListener('change', function() {
        previewImage(this, 'imagePreview');
      });
      
      document.getElementById('editProductImage').addEventListener('change', function() {
        previewImage(this, 'editImagePreview');
      });
      
      // Banner image upload preview
      document.getElementById('bannerImageUpload').addEventListener('change', function() {
        previewImage(this, 'bannerImagePreview');
      });
      
      // Word count for description
      document.getElementById('productDescription').addEventListener('input', function() {
        updateWordCount(this, 'descriptionWordCount');
      });
      
      document.getElementById('editProductDescription').addEventListener('input', function() {
        updateWordCount(this, 'editDescriptionWordCount');
      });
    }

    function updateWordCount(textarea, countElementId) {
      const text = textarea.value;
      const words = text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
      document.getElementById(countElementId).textContent = `${words}/500 words`;
      
      if (words > 500) {
        document.getElementById(countElementId).style.color = 'red';
      } else {
        document.getElementById(countElementId).style.color = '#7f8c8d';
      }
    }

    function previewImage(input, previewElementId) {
      const preview = document.getElementById(previewElementId);
      const file = input.files[0];
      
      if (file) {
        const reader = new FileReader();
        
        reader.addEventListener('load', function() {
          preview.innerHTML = '';
          const img = document.createElement('img');
          img.src = reader.result;
          preview.appendChild(img);
        });
        
        reader.readAsDataURL(file);
      } else {
        preview.innerHTML = '<div class="image-preview-text">Image preview will appear here</div>';
      }
    }

    function handleCategoryFilter(e) {
      // Remove active class from all buttons
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      
      // Add active class to clicked button
      e.target.classList.add('active');
      
      const category = e.target.dataset.category;
      
      // Filter products
      renderProducts(category);
    }

    function handleSearch() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      
      // Filter products by search term
      const filteredProducts = products.filter(product => {
        return (
          product.title.toLowerCase().includes(searchTerm) ||
          product.description.toLowerCase().includes(searchTerm) ||
          product.manufacturer.toLowerCase().includes(searchTerm) ||
          product.code.toLowerCase().includes(searchTerm)
        );
      });
      
      renderProducts('all', filteredProducts);
    }

    function addToCart(product) {
      cart.push(product);
      updateCartUI();
      showNotification(`${product.title} has been added to cart`);
    }

    function updateCartUI() {
      const cartCount = document.querySelector('.cart-count');
      cartCount.textContent = cart.length;
      
      // Show/hide place order button based on cart items
      const placeOrderBtn = document.getElementById('placeOrderBtn');
      if (cart.length > 0) {
        placeOrderBtn.style.display = 'block';
      } else {
        placeOrderBtn.style.display = 'none';
      }
    }

    function openAddProductModal() {
      if (!isAdmin) {
        showNotification('Admin access required', 'error');
        return;
      }
      document.getElementById('addProductModal').style.display = 'flex';
    }

    function openEditProductModal(productId) {
      if (!isAdmin) {
        showNotification('Admin access required', 'error');
        return;
      }
      
      const product = products.find(p => p.id === productId);
      if (product) {
        document.getElementById('editProductId').value = product.id;
        document.getElementById('editProductCode').value = product.code;
        document.getElementById('editProductTitle').value = product.title;
        document.getElementById('editProductDescription').value = product.description;
        document.getElementById('editProductManufacturer').value = product.manufacturer;
        document.getElementById('editProductPrice').value = product.price;
        document.getElementById('editProductCategory').value = product.category;
        document.getElementById('editProductCondition').value = product.condition;
        document.getElementById('editProductImageUrl').value = product.image || '';
        
        // Update word count
        updateWordCount(document.getElementById('editProductDescription'), 'editDescriptionWordCount');
        
        // Set image preview
        const preview = document.getElementById('editImagePreview');
        preview.innerHTML = '';
        if (product.image) {
          const img = document.createElement('img');
          img.src = product.image;
          preview.appendChild(img);
        } else {
          preview.innerHTML = '<div class="image-preview-text">Image preview will appear here</div>';
        }
        
        document.getElementById('editProductModal').style.display = 'flex';
      }
    }

    function openEditBannerModal() {
      if (!isAdmin) {
        showNotification('Admin access required', 'error');
        return;
      }
      // Pre-fill current banner data
      document.getElementById('bannerTitleInput').value = document.getElementById('bannerTitle').textContent;
      document.getElementById('bannerDescriptionInput').value = document.getElementById('bannerDescription').textContent;
      
      // Get current banner background image
      const bannerStyle = document.querySelector('.banner').style.backgroundImage;
      const imageUrlMatch = bannerStyle.match(/url\(["']?(.*?)["']?\)/);
      if (imageUrlMatch && imageUrlMatch[1]) {
        document.getElementById('bannerImageUrl').value = imageUrlMatch[1];
      }
      
      document.getElementById('editBannerModal').style.display = 'flex';
    }

    function openManageProductsModal() {
      if (!isAdmin) {
        showNotification('Admin access required', 'error');
        return;
      }
      
      renderAdminProductsList();
      document.getElementById('manageProductsModal').style.display = 'flex';
    }

    function openManageCategoriesModal() {
      if (!isAdmin) {
        showNotification('Admin access required', 'error');
        return;
      }
      
      renderCategoriesList();
      document.getElementById('manageCategoriesModal').style.display = 'flex';
    }

    function openSignInModal() {
      document.getElementById('signInModal').style.display = 'flex';
    }

    function closeAllModals() {
      document.querySelectorAll('.modal').forEach(modal => {
        modal.style.display = 'none';
      });
    }

    function handleSignIn(e) {
      e.preventDefault();
      
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      
      // Simple validation
      if (!email || !password) {
        document.getElementById('signInError').textContent = 'Please fill all fields';
        return;
      }
      
      // Check if user exists in users array
      const user = users.find(u => u.email === email && u.password === password);
      
      if (user) {
        isAdmin = adminEmails.includes(email);
        currentUser = {
          email: user.email,
          name: user.name
        };
        
        // Save to localStorage
        localStorage.setItem('currentUser', JSON.stringify(currentUser));
        localStorage.setItem('isAdmin', isAdmin);
        
        showNotification('Signed in successfully!');
        closeAllModals();
        document.getElementById('signInForm').reset();
        updateUIAfterAuth();
      } else {
        document.getElementById('signInError').textContent = 'Invalid email or password';
      }
    }

    function handleSignUp(e) {
      e.preventDefault();
      
      const name = document.getElementById('signupName').value;
      const email = document.getElementById('signupEmail').value;
      const password = document.getElementById('signupPassword').value;
      const confirmPassword = document.getElementById('signupConfirmPassword').value;
      
      // Simple validation
      if (!name || !email || !password || !confirmPassword) {
        document.getElementById('signUpError').textContent = 'Please fill all fields';
        return;
      }
      
      if (password !== confirmPassword) {
        document.getElementById('signUpError').textContent = 'Passwords do not match';
        return;
      }
      
      if (password.length < 6) {
        document.getElementById('signUpError').textContent = 'Password must be at least 6 characters';
        return;
      }
      
      // Check if user already exists
      if (users.find(u => u.email === email)) {
        document.getElementById('signUpError').textContent = 'User with this email already exists';
        return;
      }
      
      // Create new user
      const newUser = {
        name,
        email,
        password
      };
      
      // Add to users array
      users.push(newUser);
      localStorage.setItem('users', JSON.stringify(users));
      
      // Set as current user
      isAdmin = adminEmails.includes(email);
      currentUser = {
        email,
        name
      };
      
      // Save to localStorage
      localStorage.setItem('currentUser', JSON.stringify(currentUser));
      localStorage.setItem('isAdmin', isAdmin);
      
      showNotification('Account created successfully!');
      closeAllModals();
      document.getElementById('signUpForm').reset();
      updateUIAfterAuth();
    }

    function handleAddProduct(e) {
      e.preventDefault();
      
      const code = document.getElementById('productCode').value;
      const title = document.getElementById('productTitle').value;
      const description = document.getElementById('productDescription').value;
      const manufacturer = document.getElementById('productManufacturer').value;
      const price = parseInt(document.getElementById('productPrice').value);
      const category = document.getElementById('productCategory').value;
      const condition = document.getElementById('productCondition').value;
      const imageUrl = document.getElementById('productImageUrl').value;
      const imageFile = document.getElementById('productImage').files[0];
      
      // Word count validation
      const words = description.trim() === '' ? 0 : description.trim().split(/\s+/).length;
      if (words > 500) {
        document.getElementById('addProductError').textContent = 'Description cannot exceed 500 words';
        return;
      }
      
      // Image validation - either URL or file must be provided
      if (!imageUrl && !imageFile) {
        document.getElementById('addProductError').textContent = 'Please provide either an image URL or upload an image';
        return;
      }
      
      // Read image as base64 if file is selected
      if (imageFile) {
        const reader = new FileReader();
        reader.addEventListener('load', function() {
          // Create new product
          const newProduct = {
            id: Date.now(), // Simple ID generation
            code,
            title,
            description,
            manufacturer,
            price,
            category,
            condition,
            image: reader.result
          };
          
          // Add to products array
          products.push(newProduct);
          
          // Save to localStorage
          localStorage.setItem('products', JSON.stringify(products));
          
          showNotification('Product added successfully!');
          closeAllModals();
          document.getElementById('addProductForm').reset();
          document.getElementById('imagePreview').innerHTML = '<div class="image-preview-text">Image preview will appear here</div>';
          
          // Update products grid
          renderProducts();
        });
        
        reader.readAsDataURL(imageFile);
      } else {
        // Create new product with URL
        const newProduct = {
          id: Date.now(), // Simple ID generation
          code,
          title,
          description,
          manufacturer,
          price,
          category,
          condition,
          image: imageUrl
        };
        
        // Add to products array
        products.push(newProduct);
        
        // Save to localStorage
        localStorage.setItem('products', JSON.stringify(products));
        
        showNotification('Product added successfully!');
        closeAllModals();
        document.getElementById('addProductForm').reset();
        document.getElementById('imagePreview').innerHTML = '<div class="image-preview-text">Image preview will appear here</div>';
        
        // Update products grid
        renderProducts();
      }
    }

    function handleEditProduct(e) {
      e.preventDefault();
      
      const id = parseInt(document.getElementById('editProductId').value);
      const code = document.getElementById('editProductCode').value;
      const title = document.getElementById('editProductTitle').value;
      const description = document.getElementById('editProductDescription').value;
      const manufacturer = document.getElementById('editProductManufacturer').value;
      const price = parseInt(document.getElementById('editProductPrice').value);
      const category = document.getElementById('editProductCategory').value;
      const condition = document.getElementById('editProductCondition').value;
      const imageUrl = document.getElementById('editProductImageUrl').value;
      const imageFile = document.getElementById('editProductImage').files[0];
      
      // Word count validation
      const words = description.trim() === '' ? 0 : description.trim().split(/\s+/).length;
      if (words > 500) {
        document.getElementById('editProductError').textContent = 'Description cannot exceed 500 words';
        return;
      }
      
      // Find product index
      const productIndex = products.findIndex(p => p.id === id);
      
      if (productIndex === -1) {
        document.getElementById('editProductError').textContent = 'Product not found';
        return;
      }
      
      // Update product
      products[productIndex].code = code;
      products[productIndex].title = title;
      products[productIndex].description = description;
      products[productIndex].manufacturer = manufacturer;
      products[productIndex].price = price;
      products[productIndex].category = category;
      products[productIndex].condition = condition;
      
      // Update image if new one is selected or URL is provided
      if (imageFile) {
        const reader = new FileReader();
        reader.addEventListener('load', function() {
          products[productIndex].image = reader.result;
          
          // Save to localStorage
          localStorage.setItem('products', JSON.stringify(products));
          
          showNotification('Product updated successfully!');
          closeAllModals();
          
          // Update products grid
          renderProducts();
          renderAdminProductsList();
        });
        
        reader.readAsDataURL(imageFile);
      } else if (imageUrl) {
        products[productIndex].image = imageUrl;
        
        // Save to localStorage
        localStorage.setItem('products', JSON.stringify(products));
        
        showNotification('Product updated successfully!');
        closeAllModals();
        
        // Update products grid
        renderProducts();
        renderAdminProductsList();
      } else {
        // Save to localStorage
        localStorage.setItem('products', JSON.stringify(products));
        
        showNotification('Product updated successfully!');
        closeAllModals();
        
        // Update products grid
        renderProducts();
        renderAdminProductsList();
      }
    }

    function deleteProduct(productId) {
      if (!confirm('Are you sure you want to delete this product?')) {
        return;
      }
      
      // Remove product from array
      products = products.filter(p => p.id !== productId);
      
      // Save to localStorage
      localStorage.setItem('products', JSON.stringify(products));
      
      showNotification('Product deleted successfully!');
      
      // Update products grid and admin list
      renderProducts();
      renderAdminProductsList();
    }

    function handleEditBanner(e) {
      e.preventDefault();
      
      const title = document.getElementById('bannerTitleInput').value;
      const description = document.getElementById('bannerDescriptionInput').value;
      const imageUrl = document.getElementById('bannerImageUrl').value;
      const imageFile = document.getElementById('bannerImageUpload').files[0];
      
      // Update UI
      document.getElementById('bannerTitle').textContent = title;
      document.getElementById('bannerDescription').textContent = description;
      
      if (imageFile) {
        const reader = new FileReader();
        reader.addEventListener('load', function() {
          document.querySelector('.banner').style.backgroundImage = `linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('${reader.result}')`;
        });
        reader.readAsDataURL(imageFile);
      } else if (imageUrl) {
        document.querySelector('.banner').style.backgroundImage = `linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('${imageUrl}')`;
      }
      
      showNotification('Banner updated successfully!');
      closeAllModals();
    }

    function handleAddCategory(e) {
      e.preventDefault();
      showNotification('Category added successfully! (simulated)');
      closeAllModals();
    }

    function handleSignOut() {
      currentUser = null;
      isAdmin = false;
      localStorage.removeItem('currentUser');
      localStorage.removeItem('isAdmin');
      
      showNotification('Signed out successfully');
      updateUIAfterAuth();
    }

    function handleOrderForm(e) {
      e.preventDefault();
      
      const name = document.getElementById('customerName').value;
      const email = document.getElementById('customerEmail').value;
      const phone = document.getElementById('customerPhone').value;
      const product = document.getElementById('productInterest').value;
      const message = document.getElementById('orderMessage').value;
      
      // Create WhatsApp message
      const whatsappMessage = `Hello! I would like to place an order:%0A%0AName: ${name}%0AEmail: ${email}%0APhone: ${phone}%0AProduct: ${product}%0AMessage: ${message}`;
      
      // Redirect to WhatsApp
      window.open(`https://wa.me/923155111330?text=${whatsappMessage}`, '_blank');
      
      showNotification('Redirecting to WhatsApp to complete your order');
    }

    function checkAuthState() {
      const savedUser = localStorage.getItem('currentUser');
      const savedAdmin = localStorage.getItem('isAdmin');
      
      if (savedUser) {
        currentUser = JSON.parse(savedUser);
        isAdmin = savedAdmin === 'true';
        updateUIAfterAuth();
      }
    }

    function updateUIAfterAuth() {
      if (currentUser) {
        document.getElementById('userInfo').style.display = 'block';
        document.getElementById('userName').textContent = currentUser.name;
        document.getElementById('signInBtn').style.display = 'none';
        document.getElementById('signOutBtn').style.display = 'inline-flex';
        
        if (isAdmin) {
          document.getElementById('adminControls').style.display = 'flex';
        } else {
          document.getElementById('adminControls').style.display = 'none';
        }
      } else {
        document.getElementById('userInfo').style.display = 'none';
        document.getElementById('signInBtn').style.display = 'inline-flex';
        document.getElementById('signOutBtn').style.display = 'none';
        document.getElementById('adminControls').style.display = 'none';
      }
      
      // Show/hide admin-only elements
      document.querySelectorAll('.admin-only').forEach(el => {
        el.style.display = isAdmin ? 'block' : 'none';
      });
    }

    function renderProducts(category = 'all', productsToRender = null) {
      const productsGrid = document.getElementById('productsGrid');
      productsGrid.innerHTML = '';
      
      const productsList = productsToRender || products;
      
      // Filter by category if needed
      const filteredProducts = category === 'all' 
        ? productsList 
        : productsList.filter(product => product.category === category);
      
      // Update product interest dropdown in order form
      updateProductInterestDropdown();
      
      if (filteredProducts.length === 0) {
        productsGrid.innerHTML = '<p style="text-align: center; grid-column: 1 / -1;">No products found</p>';
        return;
      }
      
      filteredProducts.forEach(product => {
        const productCard = document.createElement('div');
        productCard.className = 'product-card';
        
        // Get category name
        const categoryObj = categories.find(c => c.value === product.category);
        const categoryName = categoryObj ? categoryObj.name : product.category;
        
        productCard.innerHTML = `
          <div class="product-image">
            <img src="${product.image}" alt="${product.title}">
          </div>
          <div class="product-details">
            <h3 class="product-title">${product.title}</h3>
            <div class="admin-only product-price">PKR ${product.price.toLocaleString()}</div>
            <div class="product-code">Code: ${product.code}</div>
            <div class="product-manufacturer">Manufacturer: ${product.manufacturer}</div>
            <p class="product-description">${product.description}</p>
            <span class="product-condition condition-${product.condition.toLowerCase()}">${product.condition}</span>
            <div class="product-category">Category: ${categoryName}</div>
            <button class="add-to-cart-btn">
              <i class="fas fa-cart-plus"></i> Add to Cart
            </button>
          </div>
        `;
        
        // Add event listener to Add to Cart button
        productCard.querySelector('.add-to-cart-btn').addEventListener('click', function() {
          addToCart(product);
        });
        
        productsGrid.appendChild(productCard);
      });
      
      // Show/hide admin-only elements
      document.querySelectorAll('.admin-only').forEach(el => {
        el.style.display = isAdmin ? 'block' : 'none';
      });
    }

    function renderAdminProductsList() {
      const adminProductsList = document.getElementById('adminProductsList');
      adminProductsList.innerHTML = '';
      
      if (products.length === 0) {
        adminProductsList.innerHTML = '<p style="text-align: center;">No products available</p>';
        return;
      }
      
      products.forEach(product => {
        const productItem = document.createElement('div');
        productItem.className = 'admin-product-item';
        
        // Get category name
        const categoryObj = categories.find(c => c.value === product.category);
        const categoryName = categoryObj ? categoryObj.name : product.category;
        
        productItem.innerHTML = `
          <div>
            <strong>${product.title}</strong> (${product.code})
            <div>Price: PKR ${product.price.toLocaleString()}</div>
            <div>Category: ${categoryName}</div>
          </div>
          <div class="admin-product-actions">
            <button class="edit-btn" data-id="${product.id}"><i class="fas fa-edit"></i> Edit</button>
            <button class="delete-btn" data-id="${product.id}"><i class="fas fa-trash"></i> Delete</button>
          </div>
        `;
        
        // Add event listeners to buttons
        productItem.querySelector('.edit-btn').addEventListener('click', function() {
          const productId = parseInt(this.dataset.id);
          openEditProductModal(productId);
        });
        
        productItem.querySelector('.delete-btn').addEventListener('click', function() {
          const productId = parseInt(this.dataset.id);
          deleteProduct(productId);
        });
        
        adminProductsList.appendChild(productItem);
      });
    }

    function renderCategoriesList() {
      const categoriesList = document.getElementById('categoriesList');
      categoriesList.innerHTML = '';
      
      categories.forEach(category => {
        const categoryItem = document.createElement('div');
        categoryItem.className = 'category-item';
        categoryItem.innerHTML = `
          <span>${category.name} (${category.value})</span>
          <div>
            <button class="edit-btn"><i class="fas fa-edit"></i></button>
            <button class="delete-btn"><i class="fas fa-trash"></i></button>
          </div>
        `;
        categoriesList.appendChild(categoryItem);
      });
    }

    function updateProductInterestDropdown() {
      const productInterest = document.getElementById('productInterest');
      
      // Clear existing options except the first one
      while (productInterest.options.length > 1) {
        productInterest.remove(1);
      }
      
      // Add products to dropdown
      products.forEach(product => {
        const option = document.createElement('option');
        option.value = product.title;
        option.textContent = product.title;
        productInterest.appendChild(option);
      });
    }

    function showNotification(message, type = 'success') {
      const notification = document.getElementById('notification');
      notification.textContent = message;
      notification.className = 'notification ' + type;
      
      // Hide notification after 3 seconds
      setTimeout(() => {
        notification.className = 'notification';
      }, 3000);
    }
  </script>
</body>
</html>