<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apparel Machinery | Industrial Equipment</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: #f0f2f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            position: relative;
        }
        
        /* Header Styles */
        .header-content {
            background: #223449;
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            display: flex;
            align-items: center;
        }
        
        .logo-apparel {
            cursor: pointer;
            position: relative;
            color: #4a9eff !important;
        }
        
        .logo-apparel:hover {
            color: white !important;
        }
        
        .logo span {
            color: white;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 20px;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            cursor: pointer;
            font-size: 0.95rem;
        }
        
        nav ul li a:hover {
            color: #4a9eff;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .cart-icon {
            position: relative;
            font-size: 1.2rem;
            color: white;
            cursor: pointer;
            margin-right: 10px;
        }
        
        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #e74c3c;
            color: white;
            font-size: 0.65rem;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .admin-indicator {
            background: #4a9eff;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            display: none;
        }
        
        .logout-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            display: none;
            font-size: 0.8rem;
        }
        
        /* Banner Styles */
        .banner-section {
            position: relative;
            width: 100%;
            height: 200px;
            background: #2c3e50;
            overflow: hidden;
        }
        
        .banner-bg {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.6;
        }
        
        .banner-content {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 15px;
            color: white;
        }
        
        .banner-content h1 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        }
        
        .banner-content p {
            font-size: 0.9rem;
            max-width: 700px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        /* Admin Actions */
        .admin-action-bar {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 15px;
            background: #f8f9fa;
            flex-wrap: wrap;
            border-bottom: 1px solid #e0e0e0;
            display: none;
        }
        
        .admin-action-btn {
            background: #2c3e50;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            font-size: 0.9rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            min-width: 160px;
            justify-content: center;
        }
        
        .admin-action-btn:hover {
            background: #4a9eff;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        /* Categories Section */
        .categories-section {
            padding: 20px 15px;
            background: white;
        }
        
        .categories-title {
            text-align: center;
            font-size: 1.5rem;
            color: #223449;
            margin-bottom: 15px;
        }
        
        .category-pills {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            overflow-x: auto;
            padding-bottom: 10px;
        }
        
        .cat-pill {
            background: #f1f5f9;
            border: none;
            padding: 8px 16px;
            border-radius: 25px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            font-size: 0.85rem;
            white-space: nowrap;
        }
        
        .cat-pill.active, .cat-pill:hover {
            background: #4a9eff;
            color: white;
        }
        
        /* Products Section */
        .products-section {
            padding: 20px 15px;
            background: #f8f9fa;
        }
        
        .section-title {
            text-align: center;
            font-size: 1.5rem;
            color: #223449;
            margin-bottom: 15px;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .product-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
        }
        
        .product-card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }
        
        .product-info {
            padding: 12px;
            display: flex;
            flex-direction: column;
        }
        
        .product-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: #223449;
        }
        
        .product-category {
            color: #4a9eff;
            font-weight: 500;
            margin-bottom: 6px;
            font-size: 0.85rem;
        }
        
        .product-price {
            font-size: 1rem;
            font-weight: 700;
            color: #e74c3c;
            margin-bottom: 10px;
            display: none;
        }
        
        .product-description {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 10px;
            flex-grow: 1;
        }
        
        .product-actions {
            display: flex;
            gap: 6px;
            display: none;
        }
        
        .action-btn {
            padding: 6px 10px;
            border: none;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.8rem;
        }
        
        .action-btn.edit {
            background: #4a9eff;
            color: white;
        }
        
        .action-btn.delete {
            background: #e74c3c;
            color: white;
        }
        
        .add-to-cart-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 7px 10px;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
            transition: all 0.3s;
            width: 100%;
            justify-content: center;
            margin-top: 6px;
            font-size: 0.85rem;
        }
        
        .add-to-cart-btn:hover {
            background: #219653;
        }
        
        /* Features Section */
        .features-section {
            padding: 40px 20px;
            background: white;
        }
        
        .features-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .feature-box {
            flex: 1;
            min-width: 280px;
            max-width: 350px;
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
            height: auto;
        }
        
        .feature-box:hover {
            transform: translateY(-5px);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            color: #4a9eff;
            margin-bottom: 15px;
        }
        
        .feature-title {
            font-size: 1.3rem;
            color: #223449;
            margin-bottom: 12px;
            font-weight: 600;
        }
        
        .feature-description {
            color: #666;
            line-height: 1.5;
            font-size: 0.95rem;
        }
        
        /* Footer */
        .footer {
            background: #223449;
            color: white;
            padding: 30px 20px;
            text-align: center;
        }
        
        .footer-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: white;
        }
        
        .footer-tagline {
            margin-bottom: 20px;
            opacity: 0.9;
            font-size: 1rem;
        }
        
        .footer-social {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .footer-social a {
            color: white;
            font-size: 1.3rem;
            transition: color 0.3s;
            text-decoration: none;
        }
        
        .footer-social a:hover {
            color: #4a9eff;
        }
        
        .footer-contact {
            margin-bottom: 15px;
            font-size: 0.95rem;
        }
        
        .footer-contact a {
            color: #4a9eff;
            text-decoration: none;
        }
        
        .footer-author {
            opacity: 0.8;
            margin-top: 20px;
            font-size: 0.9rem;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            width: 90%;
            max-width: 600px;
            border-radius: 10px;
            overflow: hidden;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            padding: 12px;
            background: #f8f9fa;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #ddd;
        }
        
        .modal-header h3 {
            margin: 0;
            color: #223449;
            font-size: 1.2rem;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 1.3rem;
            cursor: pointer;
            color: #666;
        }
        
        .modal-body {
            padding: 15px;
        }
        
        .form-group {
            margin-bottom: 12px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .modal-footer {
            padding: 12px;
            background: #f8f9fa;
            border-top: 1px solid #ddd;
            text-align: right;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 12px;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
                gap: 12px;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .admin-action-bar {
                flex-direction: column;
                align-items: center;
            }
            
            .admin-action-btn {
                width: 100%;
                max-width: 250px;
            }
            
            .category-pills {
                justify-content: flex-start;
                overflow-x: auto;
                padding-bottom: 8px;
            }
            
            .banner-content h1 {
                font-size: 1.5rem;
            }
            
            .banner-content p {
                font-size: 0.8rem;
            }
            
            .features-container {
                flex-direction: column;
                align-items: center;
            }
            
            .feature-box {
                min-width: 100%;
            }
        }
        
        .admin-btn {
            background: #2c3e50;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .admin-btn:hover {
            background: #4a9eff;
        }
        
        .btn-primary {
            background: #4a9eff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .btn-primary:hover {
            background: #3a8eee;
        }
        
        .btn-secondary {
            background: #95a5a6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .btn-secondary:hover {
            background: #7f8c8d;
        }
        
        .btn-success {
            background: #27ae60;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .btn-success:hover {
            background: #219653;
        }
        
        .category-list {
            margin-bottom: 15px;
        }
        
        .category-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            border-bottom: 1px solid #eee;
        }
        
        .category-item:last-child {
            border-bottom: none;
        }
        
        .category-actions {
            display: flex;
            gap: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header-content">
            <div class="logo">
                <span class="logo-apparel" onclick="openAdminLogin()">Apparel</span>
                <span> Machinery</span>
            </div>
            <nav>
                <ul>
                    <li><a href="#" onclick="showSection('home')">Home</a></li>
                    <li><a href="#" onclick="showSection('products')">Products</a></li>
                    <li><a href="#" onclick="showSection('about')">About Us</a></li>
                    <li><a href="#" onclick="showSection('contact')">Contact</a></li>
                </ul>
            </nav>
            <div class="header-right">
                <div class="admin-indicator" id="adminIndicator">
                    <i class="fas fa-user-shield"></i> Admin Mode
                </div>
                <button class="logout-btn" id="logoutBtn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
                <div class="cart-icon" onclick="openCart()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-badge" id="cartCount">0</span>
                </div>
            </div>
        </div>
        
        <!-- Banner -->
        <div class="banner-section">
            <img class="banner-bg" src="https://images.unsplash.com/photo-1497366754035-f200968a6e72?auto=format&fit=crop&w=800&q=80" alt="Banner" id="bannerImage">
            <div class="banner-content">
                <h1 id="bannerTitle">Premium Industrial Machinery</h1>
                <p id="bannerDescription">Find the best apparel machinery for your business with our extensive collection of industrial machinery.</p>
            </div>
        </div>
        
        <!-- Admin Actions - Hidden by default -->
        <div class="admin-action-bar" id="adminActions">
            <button class="admin-action-btn" onclick="openAddProductModal()">
                <i class="fas fa-plus"></i> Add New Product
            </button>
            <button class="admin-action-btn" onclick="openEditBannerModal()">
                <i class="fas fa-edit"></i> Edit Banner
            </button>
            <button class="admin-action-btn" onclick="openManageCategoriesModal()">
                <i class="fas fa-tags"></i> Manage Categories
            </button>
        </div>
        
        <!-- Categories Section -->
        <div class="categories-section">
            <h2 class="categories-title">Product Categories</h2>
            <div class="category-pills" id="categoryPills">
                <!-- Category pills will be generated here -->
            </div>
        </div>
        
        <!-- Products Section -->
        <div class="products-section" id="productsSection">
            <h2 class="section-title">Our Products</h2>
            <div class="products-grid" id="productsGrid">
                <!-- Product Cards will be generated here -->
            </div>
        </div>

        <!-- Features Section -->
        <div class="features-section">
            <div class="features-container">
                <!-- Feature 1 -->
                <div class="feature-box">
                    <div class="feature-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3 class="feature-title">Quality Machinery</h3>
                    <p class="feature-description">
                        We provide high-quality industrial machinery for apparel manufacturing with reliable performance.
                    </p>
                </div>
                
                <!-- Feature 2 -->
                <div class="feature-box">
                    <div class="feature-icon">
                        <i class="fas fa-shipping-fast"></i>
                    </div>
                    <h3 class="feature-title">Fast Delivery</h3>
                    <p class="feature-description">
                        We ensure timely delivery of machinery and spare parts to keep your operations running smoothly.
                    </p>
                </div>
                
                <!-- Feature 3 -->
                <div class="feature-box" style="min-height: 220px;">
                    <div class="feature-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <h3 class="feature-title">Expert Support</h3>
                    <p class="feature-description">
                        Our team of experts provides technical support and maintenance services for all our products.
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <div class="footer-title">Apparel Machinery</div>
            <div class="footer-tagline">Your Trusted Partner for Industrial Equipment</div>
            <div class="footer-social">
                <a href="https://web.facebook.com/Aligo786" target="_blank"><i class="fab fa-facebook"></i></a>
                <a href="https://x.com/m_yameen_ansai1?s=21" target="_blank"><i class="fab fa-twitter"></i></a>
                <a href="https://www.instagram.com/m.yameenansari?igsh=eDRsdjFhMHJwYjd3&utm_source=qr" target="_blank"><i class="fab fa-instagram"></i></a>
                <a href="https://www.linkedin.com/in/muhammad-yameen-1a1a67133/" target="_blank"><i class="fab fa-linkedin"></i></a>
                <a href="https://wa.me/923155111330" target="_blank"><i class="fab fa-whatsapp"></i></a>
            </div>
            <div class="footer-contact">
                Contact: <a href="mailto:apparel.machinery.pk@gmail.com">apparel.machinery.pk@gmail.com</a> | Phone: +923155111330
            </div>
            <div class="footer-author">@Muhammad Yameen Ansari</div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Admin Login</h3>
                <button class="close-modal" onclick="closeModal('adminLoginModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="adminUsername">Username</label>
                    <input type="text" id="adminUsername" placeholder="Enter admin username">
                </div>
                <div class="form-group">
                    <label for="adminPassword">Password</label>
                    <input type="password" id="adminPassword" placeholder="Enter admin password">
                </div>
                <div id="loginError" style="color: red; display: none;">Invalid username or password</div>
            </div>
            <div class="modal-footer">
                <button class="admin-btn" onclick="login()">Login</button>
            </div>
        </div>
    </div>

    <!-- Add Product Modal -->
    <div id="addProductModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Product</h3>
                <button class="close-modal" onclick="closeModal('addProductModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="productName">Product Name</label>
                    <input type="text" id="productName" placeholder="Enter product name">
                </div>
                <div class="form-group">
                    <label for="productCategory">Category</label>
                    <select id="productCategory">
                        <option value="sewing">Sewing Machines</option>
                        <option value="cutting">Cutting Machines</option>
                        <option value="pressing">Pressing Equipment</option>
                        <option value="embroidery">Embroidery Machines</option>
                        <option value="management">Management Equipment</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="productPrice">Price (PKR)</label>
                    <input type="number" id="productPrice" placeholder="Enter product price">
                </div>
                <div class="form-group">
                    <label for="productDescription">Description</label>
                    <textarea id="productDescription" placeholder="Enter product description"></textarea>
                </div>
                <div class="form-group">
                    <label for="productImage">Image URL</label>
                    <input type="text" id="productImage" placeholder="Enter image URL">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('addProductModal')">Cancel</button>
                <button class="btn-success" onclick="addNewProduct()">Add Product</button>
            </div>
        </div>
    </div>

    <!-- Edit Banner Modal -->
    <div id="editBannerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Banner</h3>
                <button class="close-modal" onclick="closeModal('editBannerModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="bannerTitleInput">Banner Title</label>
                    <input type="text" id="bannerTitleInput" placeholder="Enter banner title">
                </div>
                <div class="form-group">
                    <label for="bannerDescriptionInput">Banner Description</label>
                    <textarea id="bannerDescriptionInput" placeholder="Enter banner description"></textarea>
                </div>
                <div class="form-group">
                    <label for="bannerImageInput">Banner Image URL</label>
                    <input type="text" id="bannerImageInput" placeholder="Enter banner image URL">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('editBannerModal')">Cancel</button>
                <button class="btn-success" onclick="saveBannerChanges()">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Manage Categories Modal -->
    <div id="manageCategoriesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Manage Categories</h3>
                <button class="close-modal" onclick="closeModal('manageCategoriesModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="newCategoryName">Add New Category</label>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="newCategoryName" placeholder="Enter category name" style="flex: 1;">
                        <button class="btn-primary" onclick="addNewCategory()">Add</button>
                    </div>
                </div>
                <div class="category-list">
                    <h4>Existing Categories</h4>
                    <div id="categoriesList">
                        <!-- Categories will be listed here -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('manageCategoriesModal')">Close</button>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-analytics.js"></script>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB9JR7JTfoC8zeKMFqNzOiQn4mAIrvKXSk",
            authDomain: "apparel-machinery.firebaseapp.com",
            projectId: "apparel-machinery",
            storageBucket: "apparel-machinery.firebasestorage.app",
            messagingSenderId: "165173029685",
            appId: "1:165173029685:web:23d0bc7f2c0752adc63a7c",
            measurementId: "G-XHMZ4BP7CW"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const analytics = firebase.analytics();

        // Global variables
        let cart = [];
        let isAdmin = false;
        let products = [
            {
                id: 1,
                name: "Industrial Sewing Machine",
                category: "sewing",
                price: 125000,
                description: "High-speed industrial sewing machine with automatic thread cutter and advanced stitching patterns.",
                image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 2,
                name: "Fabric Cutting Machine",
                category: "cutting",
                price: 85000,
                description: "Precision fabric cutting machine with laser guidance for accurate cuts every time.",
                image: "https://images.unsplash.com/photo-1595425970377-2f8ded7c7b19?auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 3,
                name: "Steam Pressing Machine",
                category: "pressing",
                price: 65000,
                description: "Professional steam pressing machine for wrinkle-free finishing of garments.",
                image: "https://images.unsplash.com/photo-1596461404969-9ae70f2830c1?auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 4,
                name: "Embroidery Machine",
                category: "embroidery",
                price: 195000,
                description: "Computerized embroidery machine with 15 needle positions and 500+ built-in designs.",
                image: "https://images.unsplash.com/photo-1611019130374-9ec6d667f1fa?auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 5,
                name: "Production Management Software",
                category: "management",
                price: 75000,
                description: "Complete production management solution for apparel manufacturing businesses.",
                image: "https://images.unsplash.com/photo-1581092580497-e0d23cbdf1dc?auto=format&fit=crop&w=500&q=80"
            }
        ];

        let categories = [
            { id: 'all', name: 'All Products' },
            { id: 'sewing', name: 'Sewing Machines' },
            { id: 'cutting', name: 'Cutting Machines' },
            { id: 'pressing', name: 'Pressing Equipment' },
            { id: 'embroidery', name: 'Embroidery Machines' },
            { id: 'boiler', name: 'Boiler Machines' },
            { id: 'generators', name: 'Generators' },
            { id: 'compressors', name: 'Compressors' },
            { id: 'accessories', name: 'Accessories' },
            { id: 'management', name: 'Management Equipment' }
        ];
        
        // Initialize the page
        window.onload = function() {
            // Hide admin actions and product actions by default
            document.getElementById('adminActions').style.display = 'none';
            document.getElementById('adminIndicator').style.display = 'none';
            document.getElementById('logoutBtn').style.display = 'none';
            
            // Render categories
            renderCategories();
            
            // Render products
            renderProducts();
            
            // Load cart from localStorage if available
            const savedCart = localStorage.getItem('apparelCart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                document.getElementById('cartCount').textContent = getTotalCartItems();
            }
            
            // Check if user is already logged in
            checkAdminStatus();
        };
        
        // Check if user is already logged in as admin
        function checkAdminStatus() {
            const adminUser = localStorage.getItem('adminUser');
            if (adminUser === 'true') {
                enableAdminMode();
            }
        }
        
        // Render categories
        function renderCategories() {
            const categoryPills = document.getElementById('categoryPills');
            categoryPills.innerHTML = '';
            
            categories.forEach(category => {
                if (category.id !== 'all') {
                    const pill = document.createElement('button');
                    pill.className = 'cat-pill';
                    if (category.id === 'sewing') pill.classList.add('active');
                    pill.setAttribute('data-id', category.id);
                    pill.textContent = category.name;
                    pill.onclick = () => selectCategory(category.id);
                    categoryPills.appendChild(pill);
                }
            });
        }
        
        // Render products
        function renderProducts() {
            const productsGrid = document.getElementById('productsGrid');
            productsGrid.innerHTML = '';
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.setAttribute('data-category', product.category);
                
                productCard.innerHTML = `
                    <img src="${product.image}" alt="${product.name}">
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-category">${getCategoryName(product.category)}</div>
                        <div class="product-price" style="display: ${isAdmin ? 'block' : 'none'}">PKR ${product.price.toLocaleString()}</div>
                        <div class="product-description">${product.description}</div>
                        <button class="add-to-cart-btn" onclick="addToCart(${product.id})">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                        <div class="product-actions" style="display: ${isAdmin ? 'flex' : 'none'}">
                            <button class="action-btn edit" onclick="editProduct(${product.id})">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <button class="action-btn delete" onclick="deleteProduct(${product.id})">
                                <i class="fas fa-trash"></i> Delete
                            </button>
                        </div>
                    </div>
                `;
                
                productsGrid.appendChild(productCard);
            });
        }
        
        // Get category name from category code
        function getCategoryName(categoryCode) {
            const category = categories.find(cat => cat.id === categoryCode);
            return category ? category.name : 'Uncategorized';
        }
        
        // Admin login function
        function openAdminLogin() {
            if (isAdmin) {
                return; // Already logged in
            }
            document.getElementById('adminLoginModal').style.display = 'flex';
        }
        
        // Close modal function
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // Login function
        function login() {
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            const loginError = document.getElementById('loginError');
            
            // Simple authentication (for demo purposes)
            if (username === 'admin' && password === 'password') {
                enableAdminMode();
                
                // Save login state
                localStorage.setItem('adminUser', 'true');
                
                // Close modal
                closeModal('adminLoginModal');
                
                // Clear login form
                document.getElementById('adminUsername').value = '';
                document.getElementById('adminPassword').value = '';
                loginError.style.display = 'none';
                
                alert('Admin login successful!');
            } else {
                // Show error
                loginError.style.display = 'block';
            }
        }
        
        // Enable admin mode
        function enableAdminMode() {
            // Show admin actions
            document.getElementById('adminActions').style.display = 'flex';
            
            // Show product actions
            const productActions = document.querySelectorAll('.product-actions');
            productActions.forEach(action => {
                action.style.display = 'flex';
            });
            
            // Show prices (only for admin)
            const productPrices = document.querySelectorAll('.product-price');
            productPrices.forEach(price => {
                price.style.display = 'block';
            });
            
            // Show admin indicator and logout button
            document.getElementById('adminIndicator').style.display = 'block';
            document.getElementById('logoutBtn').style.display = 'block';
            
            // Set admin flag
            isAdmin = true;
        }
        
        // Logout function
        function logout() {
            // Hide admin actions
            document.getElementById('adminActions').style.display = 'none';
            
            // Hide product actions
            const productActions = document.querySelectorAll('.product-actions');
            productActions.forEach(action => {
                action.style.display = 'none';
            });
            
            // Hide prices
            const productPrices = document.querySelectorAll('.product-price');
            productPrices.forEach(price => {
                price.style.display = 'none';
            });
            
            // Hide admin indicator and logout button
            document.getElementById('adminIndicator').style.display = 'none';
            document.getElementById('logoutBtn').style.display = 'none';
            
            // Set admin flag
            isAdmin = false;
            
            // Remove login state
            localStorage.removeItem('adminUser');
            
            alert('Admin logout successful!');
        }
        
        // Category selection
        function selectCategory(category) {
            // Remove active class from all pills
            document.querySelectorAll('.cat-pill').forEach(pill => {
                pill.classList.remove('active');
            });
            
            // Add active class to clicked pill
            event.target.classList.add('active');
            
            // Filter products
            const products = document.querySelectorAll('.product-card');
            products.forEach(product => {
                if (category === 'all' || product.getAttribute('data-category') === category) {
                    product.style.display = 'block';
                } else {
                    product.style.display = 'none';
                }
            });
        }
        
        // Add to cart function
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            
            if (!product) return;
            
            // Check if product already in cart
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                // Increase quantity
                existingItem.quantity += 1;
            } else {
                // Add new item to cart
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    quantity: 1
                });
            }
            
            // Update cart count
            document.getElementById('cartCount').textContent = getTotalCartItems();
            
            // Save to localStorage
            localStorage.setItem('apparelCart', JSON.stringify(cart));
            
            alert(`${product.name} added to cart!`);
        }
        
        // Get total number of items in cart
        function getTotalCartItems() {
            return cart.reduce((total, item) => total + item.quantity, 0);
        }
        
        // Open cart function
        function openCart() {
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }
            
            let cartContents = "Your Cart:\n\n";
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                cartContents += `${item.name} (Qty: ${item.quantity}) - PKR ${itemTotal.toLocaleString()}\n`;
            });
            
            cartContents += `\nTotal: PKR ${total.toLocaleString()}`;
            
            alert(cartContents);
        }
        
        // Show section function
        function showSection(section) {
            alert(`Showing section: ${section}`);
            // In a real application, you would show/hide sections here
        }
        
        // Admin functions
        function openAddProductModal() {
            document.getElementById('addProductModal').style.display = 'flex';
        }
        
        function openEditBannerModal() {
            // Pre-fill current banner values
            document.getElementById('bannerTitleInput').value = document.getElementById('bannerTitle').textContent;
            document.getElementById('bannerDescriptionInput').value = document.getElementById('bannerDescription').textContent;
            document.getElementById('bannerImageInput').value = document.getElementById('bannerImage').src;
            
            document.getElementById('editBannerModal').style.display = 'flex';
        }
        
        function openManageCategoriesModal() {
            renderCategoriesList();
            document.getElementById('manageCategoriesModal').style.display = 'flex';
        }
        
        function editProduct(productId) {
            alert(`Editing product with ID: ${productId}. In a real application, this would open a form to edit product details.`);
        }
        
        function deleteProduct(productId) {
            if (confirm('Are you sure you want to delete this product?')) {
                alert(`Product with ID: ${productId} would be deleted. In a real application, this would remove the product from the database.`);
            }
        }
        
        // Add new product function
        function addNewProduct() {
            const name = document.getElementById('productName').value;
            const category = document.getElementById('productCategory').value;
            const price = parseInt(document.getElementById('productPrice').value);
            const description = document.getElementById('productDescription').value;
            const image = document.getElementById('productImage').value;
            
            if (!name || !price || !description || !image) {
                alert('Please fill in all fields');
                return;
            }
            
            const newProduct = {
                id: products.length + 1,
                name: name,
                category: category,
                price: price,
                description: description,
                image: image
            };
            
            products.push(newProduct);
            renderProducts();
            closeModal('addProductModal');
            alert('Product added successfully!');
        }
        
        // Save banner changes
        function saveBannerChanges() {
            const title = document.getElementById('bannerTitleInput').value;
            const description = document.getElementById('bannerDescriptionInput').value;
            const image = document.getElementById('bannerImageInput').value;
            
            document.getElementById('bannerTitle').textContent = title;
            document.getElementById('bannerDescription').textContent = description;
            document.getElementById('bannerImage').src = image;
            
            closeModal('editBannerModal');
            alert('Banner updated successfully!');
        }
        
        // Render categories list for management
        function renderCategoriesList() {
            const categoriesList = document.getElementById('categoriesList');
            categoriesList.innerHTML = '';
            
            categories.forEach(category => {
                if (category.id !== 'all') {
                    const categoryItem = document.createElement('div');
                    categoryItem.className = 'category-item';
                    categoryItem.innerHTML = `
                        <span>${category.name}</span>
                        <div class="category-actions">
                            <button class="action-btn edit" onclick="editCategory('${category.id}')">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete" onclick="deleteCategory('${category.id}')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `;
                    categoriesList.appendChild(categoryItem);
                }
            });
        }
        
        // Add new category
        function addNewCategory() {
            const name = document.getElementById('newCategoryName').value;
            if (!name) {
                alert('Please enter a category name');
                return;
            }
            
            const id = name.toLowerCase().replace(/\s+/g, '-');
            categories.push({ id: id, name: name });
            renderCategories();
            renderCategoriesList();
            document.getElementById('newCategoryName').value = '';
            alert('Category added successfully!');
        }
        
        // Edit category
        function editCategory(categoryId) {
            const newName = prompt('Enter new category name:');
            if (newName) {
                const category = categories.find(cat => cat.id === categoryId);
                category.name = newName;
                renderCategories();
                renderCategoriesList();
                alert('Category updated successfully!');
            }
        }
        
        // Delete category
        function deleteCategory(categoryId) {
            if (confirm('Are you sure you want to delete this category?')) {
                categories = categories.filter(cat => cat.id !== categoryId);
                renderCategories();
                renderCategoriesList();
                alert('Category deleted successfully!');
            }
        }
    </script>
</body>
</html>